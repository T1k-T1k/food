local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local rootPart = character:WaitForChild("HumanoidRootPart")

-- üìå –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –µ–¥—ã –∏ –∫–æ—Ä–º—É—à–∫–∏
local FOOD_POSITION = Vector3.new(154, 210, 2067)
local MAIN_POSITION = Vector3.new(158, 230, 2021)

-- üìå –§—É–Ω–∫—Ü–∏—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏
local function teleportTo(position)
    rootPart.CFrame = CFrame.new(position)
end

-- üìå –§—É–Ω–∫—Ü–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å ProximityPrompt
local function interactWithPrompt(prompt)
    if prompt then
        fireproximityprompt(prompt)
        task.wait(prompt.HoldDuration or 1)
    end
end

-- üìå –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–µ–π –µ–¥—ã
local function findClosestFood()
    local closestFood = nil
    local closestPrompt = nil
    local closestDistance = math.huge

    for _, food in pairs(workspace.Map.House.Items.CatFoods:GetChildren()) do
        local foodPart = food:FindFirstChild("CatFood")
        if foodPart and foodPart:FindFirstChild("ProximityPrompt") then
            local distance = (foodPart.Position - rootPart.Position).magnitude
            if distance < closestDistance then
                closestFood = foodPart
                closestPrompt = foodPart:FindFirstChild("ProximityPrompt")
                closestDistance = distance
            end
        end
    end
    return closestFood, closestPrompt
end

-- üìå –ü–æ–∏—Å–∫ –∏ –ø–æ–¥–±–æ—Ä –µ–¥—ã
local food, prompt = findClosestFood()
if food and prompt then
    teleportTo(food.Position)
    interactWithPrompt(prompt)
    task.wait(0.5)

    -- üìå –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫ –∫–æ—Ä–º—É—à–∫–µ
    teleportTo(FOOD_POSITION)
    local kitchenPlate = workspace.Map.House.Kitchen.CatBowls.Plate.Attachment.ProximityPrompt
    interactWithPrompt(kitchenPlate)

    task.wait(1)
    game:GetService("ReplicatedStorage").FoodDropEvent:FireServer()
    task.wait(1)
    interactWithPrompt(kitchenPlate)
end

-- üìå –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–æ
teleportTo(MAIN_POSITION)
